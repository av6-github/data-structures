.MODEL SMALL
.STACK 100H

.DATA
MSG DB 'MADAM$',0
SUCC DB 'PALINDROME$'
FAIL DB 'NOT PALINDROME$'

.CODE
MAIN PROC
	MOV AX, @DATA
	MOV DS, AX
	
	MOV CX, 00H
	
	LEA SI, MSG
UP:
	MOV AL, [SI]
	CMP AL, '$'
	JE INIT
	INC SI
	INC CX
	JMP UP
INIT:
	DEC CX
	MOV BX, 00H ; FIRST INDEX
	MOV DI, CX ; LAST INDEX
	
CHECK_LOOP:
	CMP BX, DI
	JGE PALINDROME
	
	MOV AL, MSG[BX]
	
	
	MOV DL, MSG[DI]
	CMP AL, DL
	JNE NOT_PALINDROME
	
	INC BX
	DEC DI
	JMP CHECK_LOOP
	
PALINDROME:
	MOV BX, 00H
	INC BX
	LEA DX, SUCC
	MOV AH, 09H
	INT 21H
	JMP ENDD
	
NOT_PALINDROME:
	LEA DX, FAIL
	MOV AH, 09H
	INT 21H
ENDD:
	INT 3
	MOV AH, 4CH
	INT 21H
MAIN ENDP
END MAIN
